{"ast":null,"code":"var _jsxFileName = \"D:\\\\ReactJs\\\\crud\\\\src\\\\Admin\\\\Admin.js\",\n    _s = $RefreshSig$();\n\nimport Form from './Form/Form';\nimport ManagementPost from './ManagementPost/ManagementPost';\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Admin() {\n  _s();\n\n  const [post, setPost] = useState({\n    id: \"\",\n    status: \"\",\n    image: \"\",\n    title: \"\",\n    content: \"\"\n  });\n  const [listProduct, setListProduct] = useState([]);\n  const [stateButton, setStateButton] = useState(\"Add\");\n\n  const getData = () => {\n    axios.get(`https://61bc1bd2d8542f00178245ab.mockapi.io/article`).then(res => {\n      setListProduct(res.data);\n    }).catch(error => console.log(error));\n  };\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  const handlerChange = e => {\n    const nam = e.target.name;\n    const val = e.target.value;\n    setPost(prev => {\n      const prevState = { ...prev\n      };\n      prevState[nam] = val;\n      return prevState;\n    });\n  };\n\n  const addPost = e => {\n    e.preventDefault();\n    stateButton === \"Add\" ? axios.post(`https://61bc1bd2d8542f00178245ab.mockapi.io/article`, {\n      status: post.status,\n      image: post.image_post,\n      title: post.title\n    }).then(res => {\n      alert(\"post thanh cong\");\n      setPost(prev => {\n        const prevState = { ...prev\n        };\n        prevState.status = \"\";\n        prevState.image_post = \"\";\n        prevState.title = \"\";\n        console.log(prevState);\n        return prevState;\n      });\n      getData();\n    }) : axios.put(`https://61bc1bd2d8542f00178245ab.mockapi.io/article${post.id}`, {\n      id: post.id,\n      status: post.status,\n      image: post.image_post,\n      title: post.title\n    }).then(res => {\n      alert(\"Update thanh cong\");\n      setPost(prev => {\n        const prevState = { ...prev\n        };\n        prevState.status = \"\";\n        prevState.image_post = \"\";\n        prevState.title = \"\";\n        console.log(prevState);\n        return prevState;\n      });\n      setStateButton(\"Add\");\n      getData();\n    });\n  };\n\n  const showInput = product => {\n    setPost(prev => {\n      const prevState = { ...prev\n      };\n      prevState.status = product.status;\n      prevState.image_post = product.image;\n      prevState.title = product.title;\n      prevState.id = product.id;\n      return prevState;\n    });\n    setStateButton(\"Update\");\n  };\n\n  const deleteProduct = product => {\n    setPost(prev => {\n      const prevState = { ...prev\n      };\n      prevState.id = product.id;\n      return prevState;\n    });\n    axios.delete(`https://61bc1bd2d8542f00178245ab.mockapi.io/article/${product.id}`).then(res => {\n      getData();\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Form, {\n      status: post.status,\n      image: post.image,\n      title: post.title,\n      handerlechange: e => {\n        handlerChange(e);\n      },\n      handlerSubmit: e => {\n        addPost(e);\n      },\n      stateButton: stateButton\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ManagementPost, {\n      ListProduct: listProduct,\n      updateInput: product => {\n        showInput(product);\n      },\n      deleteProduct: product => {\n        deleteProduct(product);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Admin, \"AH8k+yTMu2+DH8Ntkd6U1E94ZPM=\");\n\n_c = Admin;\nexport default Admin;\n\nvar _c;\n\n$RefreshReg$(_c, \"Admin\");","map":{"version":3,"names":["Form","ManagementPost","useState","useEffect","axios","Admin","post","setPost","id","status","image","title","content","listProduct","setListProduct","stateButton","setStateButton","getData","get","then","res","data","catch","error","console","log","handlerChange","e","nam","target","name","val","value","prev","prevState","addPost","preventDefault","image_post","alert","put","showInput","product","deleteProduct","delete"],"sources":["D:/ReactJs/crud/src/Admin/Admin.js"],"sourcesContent":["import Form from './Form/Form';\nimport ManagementPost from './ManagementPost/ManagementPost';\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nfunction Admin() {\n  const [post, setPost] = useState({\n    id: \"\",\n    status: \"\",\n    image: \"\",\n    title: \"\",\n    content:\"\"\n  });\n  const [listProduct, setListProduct] = useState([]);\n  const [stateButton, setStateButton] = useState(\"Add\");\n  const getData = () => {\n    axios\n      .get(`https://61bc1bd2d8542f00178245ab.mockapi.io/article`)\n      .then((res) => {\n        setListProduct(res.data);\n      })\n      .catch((error) => console.log(error));\n  };\n    useEffect(() => {\n      getData();\n    }, []);\n  const handlerChange = (e) => {\n    const nam = e.target.name;\n    const val = e.target.value;\n    setPost((prev) => {\n      const prevState = { ...prev };\n      prevState[nam] = val;\n      return prevState;\n    });\n  };\n  const addPost = (e) => {\n    e.preventDefault();\n    stateButton === \"Add\"\n      ? axios\n          .post(`https://61bc1bd2d8542f00178245ab.mockapi.io/article`, {\n            status: post.status,\n            image: post.image_post,\n            title: post.title,\n          })\n          .then((res) => {\n            alert(\"post thanh cong\");\n            setPost((prev) => {\n              const prevState = { ...prev };\n              prevState.status = \"\";\n              prevState.image_post = \"\";\n              prevState.title = \"\";\n              console.log(prevState);\n              return prevState;\n            });\n            getData();\n          })\n      : axios\n          .put(\n            `https://61bc1bd2d8542f00178245ab.mockapi.io/article${post.id}`,\n            {\n              id: post.id,\n              status: post.status,\n              image: post.image_post,\n              title: post.title,\n            }\n          )\n          .then((res) => {\n            alert(\"Update thanh cong\");\n            setPost((prev) => {\n              const prevState = { ...prev };\n              prevState.status = \"\";\n              prevState.image_post = \"\";\n              prevState.title = \"\";\n              console.log(prevState);\n              return prevState;\n            });\n            setStateButton(\"Add\");\n            getData();\n          });\n  };\n  const showInput = (product) => {\n    setPost((prev) => {\n      const prevState = { ...prev };\n      prevState.status = product.status;\n      prevState.image_post = product.image;\n      prevState.title = product.title;\n      prevState.id = product.id;\n      return prevState;\n    });\n    setStateButton(\"Update\");\n  };\n  const deleteProduct = (product) => {\n          setPost((prev) => {\n            const prevState = { ...prev };\n            prevState.id = product.id;\n            return prevState;\n          });\n          axios\n            .delete(\n              `https://61bc1bd2d8542f00178245ab.mockapi.io/article/${product.id}`\n            )\n            .then((res) => {\n              getData();\n            });\n  } \n  return (\n    <>\n      <Form\n        status={post.status}\n        image={post.image}\n        title={post.title}\n        handerlechange={(e) => {\n          handlerChange(e);\n        }}\n        handlerSubmit={(e) => {\n          addPost(e);\n        }}\n        stateButton={stateButton}\n      />\n      <ManagementPost\n        ListProduct={listProduct}\n        updateInput={(product) => {\n          showInput(product);\n        }}\n        deleteProduct ={(product) =>{\n          deleteProduct(product)\n        }}\n      />\n    </>\n  );\n}\nexport default Admin;"],"mappings":"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"},"metadata":{},"sourceType":"module"}